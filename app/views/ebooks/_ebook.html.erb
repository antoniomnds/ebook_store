<div id="<%= dom_id ebook %>">
  <div class="row">
    <div class="col-md-4">
      <div class="text-center">
        <% if ebook.cover_image.attached? %>
          <div class="mb-4">
            <% if Rails.configuration.active_storage.service == :local %>
              <%= image_tag ebook.cover_image.preview(:thumb) %>
            <% else %>
              <%= cl_image_tag ebook.cover_image.key, width: 200, height: 300, crop: "scale", format: "jpg" %>
            <% end %>
          </div>
        <% end %>

        <% if ebook.preview_file.attached? %>
          <p class="mt-3">
            <%= link_to 'Download Preview',
                        rails_blob_path(ebook.preview_file, disposition: "attachment"),
                        class: 'btn btn-outline-primary' if ebook.preview_file.attached?
            %>
          </p>
        <% end %>
      </div>

      <p>
        <strong>Title:</strong>
        <%= ebook.title %>
      </p>

      <p>
        <strong>Status:</strong>
        <%= ebook.status %>
      </p>

      <p>
        <strong>Price:</strong>
        <%= ebook.price %>
      </p>

      <p>
        <strong>Authors:</strong>
        <%= ebook.authors %>
      </p>

      <p>
        <strong>Genre:</strong>
        <%= ebook.genre %>
      </p>

      <p>
        <strong>Publisher:</strong>
        <%= ebook.publisher %>
      </p>

      <p>
        <strong>Publication Date:</strong>
        <%= ebook.publication_date %>
      </p>

      <p>
        <strong>Pages:</strong>
        <%= ebook.pages %>
      </p>

      <p>
        <strong>ISBN:</strong>
        <%= ebook.isbn %>
      </p>

      <p>
        <strong>Sales:</strong>
        <%= ebook.sales %>
      </p>

      <p>
        <strong>Views:</strong>
        <%= ebook.views %>
      </p>

      <p>
        <strong>Preview downloads:</strong>
        <%= ebook.preview_downloads %>
      </p>
    </div>
    <div class="col-md-8">
      <%= button_to 'Purchase', purchase_ebook_path(ebook), method: :post, class: 'btn btn-lg btn-outline-primary mt-3' %>
    </div>
  </div>
</div>
